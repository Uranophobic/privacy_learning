<!DOCTYPE html>
<html xmlns:th="http//www.thymeleaf.org">

<head>
	<meta charset="ISO-8859-1">
	<script src="https://ajax.googleapis.com/ajax/libs/jquery/3.6.3/jquery.min.js"></script>
	<script scr="https://cdnjs.cloudflare.com/ajax/libs/jquery/2.1.3/jquery.min.js"></script>
	<script scr="https://cdnjs.cloudflare.com/ajax/libs/jquery-easing/1.3/jquery.easing.min.js"></script>
	<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
	<script type="text/javascript" src="../js/ConvalidazioneCampi.js"></script>
	<link rel="stylesheet" href="../css/stylesheet.css">

	<title>Privacy Literacy - Registrazione</title>

	<style>

	</style>
</head>

<body>
	<div th:insert="~{fragments/header::header}"></div>
	<br>


	<div class="corpoReg">

		<form th:action="@{/users/all}" th:object="${user}" method="POST">
			<div class="containerReg">
				<p class="titReg">Registrazione</p>


				<!-- progress bar in alto -->
				<div class="progress-bar">

					<div class="step">
						<p>Registrati</p>
						<div class="bullet">
							<span>1</span>
						</div>
						<div class="check fa fa-check"></div>
					</div>

					<div class="step">
						<p>Passo 1</p>
						<div class="bullet">
							<span>2</span>
						</div>
						<div class="check fa fa-check"></div>
					</div>

					<div class="step">
						<p>Passo 2</p>
						<div class="bullet">
							<span>3</span>
						</div>
						<div class="check fa fa-check"></div>
					</div>
					<div class="step">
						<p>Passo 3</p>
						<div class="bullet">
							<span>4</span>
						</div>
						<div class="check fa fa-check"></div>
					</div>
				</div>



				<div class="form-outer">
					<div class="form">




						<div class="page slidePage">


							<!-- STA QUI IL FORM CHE SI PRENDE I DATI DELL'UTENTE ' -->

							<div class="title">Crea il tuo account</div>


							<div class="field2">

								<div class="prova">
									<div class="label">Email</div>
									<input class="inputRegistrazione" type="email" name="email" id="name"
										placeholder="Email" autocomplete="off" onkeyup="checkEmail()" required>
								</div>

								<div class="prova">
									<div class="label">Password</div>
									<input class="inputRegistrazione" type="text" name="password" id="password"
										placeholder="Password" autocomplete="off" onkeyup="checkPassword()" required>
								</div>

								<div class="prova">
									<div class="label">Nome</div>
									<input class="inputRegistrazione" type="text" name="nome" id="nome"
										placeholder="Nome" autocomplete="off" onkeyup="checkNome()" required>
								</div>

								<div class="prova">
									<div class="label">Cognome</div>
									<input class="inputRegistrazione" type="text" name="cognome" id="cognome"
										placeholder="Cognome" autocomplete="off" onkeyup="checkCognome()" required>
								</div>

								<div class="prova">
									<div class="label">Data di nascita</div>
									<input class="inputRegistrazione" type="date" name="dataNascita" id="data-Nascita"
										placeholder="Data di Nascita" required>
								</div>
							</div>

							<div class="field nextBtn">
								<button type="button" autofocus>Next</button>
							</div>

						</div>

						<!--box prime 5 domande -->
						<div class="page ">
							<div class="title">Compila il questionario</div>

							<!-- dovrei ripetere questo div per ogni domanda-->


							<div class="field2">

								<th:block th:each="dom : ${questionario1}">
									<div class="box-domande">

										<div class="label">
											<p class="idDomanda" th:text="${dom.id_domanda} + ')'"></p>
											<p class="domanda" th:text="${dom.testo}"></p>
										</div>

										<div class="spaceradio">
											<input type="radio" th:name="'valore'+${dom.id_domanda}" id="mai"
												value="mai" placeholder="perniente" required />
											<p th:text="${dom.risposta1}"></p>
										</div>
										<div class="spaceradio">
											<input type="radio" th:name="'valore'+${dom.id_domanda}" id="raramente"
												value="raramente" placeholder="poco" required />
											<p th:text="${dom.risposta2}"></p>
										</div>
										<div class="spaceradio">
											<input type="radio" th:name="'valore'+${dom.id_domanda}" id="spesso"
												value="spesso" placeholder="abbastanza" required />
											<p th:text="${dom.risposta3}"></p>
										</div>
										<div class="spaceradio">
											<input type="radio" th:name="'valore'+${dom.id_domanda}" id="sempre"
												value="sempre" placeholder="tanto" required />
											<p th:text="${dom.risposta4}"></p>
										</div>

									</div>
								</th:block>

							</div>


							<div class="field btns">
								<button type="button" class="prev-1 prev">Previous</button>
								<button type="button" class="next-1 next">Next</button>
							</div>
						</div>

						<!--box ultime 5 domande -->
						<div class="page ">
							<div class="title">Compila il questionario</div>

							<!-- dovrei ripetere questo div per ogni domanda-->
							<div class="field2">
								<div class="box-domande">
									<th:block th:each="dom : ${questionario2}">
										<th:block th:if="${dom.id_domanda} < '10' ">
											<div class="label">
												<p class="idDomanda" th:text="${dom.id_domanda} + ')'"></p>
												<p class="domanda" th:text="${dom.testo}"></p>
											</div>


											<!-- ALRIMENTI DOMANDE CON LE 4 RISPOSTE -->

											<div class="spaceradio">
												<input type="radio" th:name="'valore'+${dom.id_domanda}" id="mai"
													value="mai" placeholder="mai" required />
												<p th:text="${dom.risposta1}"></p>
											</div>
											<div class="spaceradio">
												<input type="radio" th:name="'valore'+${dom.id_domanda}" id="raramente"
													value="raramente" placeholder="raramente" required />
												<p th:text="${dom.risposta2}"></p>
											</div>
											<div class="spaceradio">
												<input type="radio" th:name="'valore'+${dom.id_domanda}" id="spesso"
													value="spesso" placeholder="spessp" required />
												<p th:text="${dom.risposta3}"></p>
											</div>
											<div class="spaceradio">
												<input type="radio" th:name="'valore'+${dom.id_domanda}" id="sempre"
													value="sempre" placeholder="sempre" required />
												<p th:text="${dom.risposta4}"></p>
											</div>

										</th:block>
									</th:block>
								</div>
							</div>
							<div class="field btns">
								<button type="button" class="prev-2 prev">Previous</button>
								<button type="button" class="next-2 next">Next</button>
							</div>
						</div>

						<!--box accetta condizioni e privacy -->
						<div class="page">
							<div class="title">Completa la registrazione</div>
							<div class="field2">
								<div class="box-domande">

									<th:block th:each="dom : ${questionario2}">

										<!-- AGGIUNGO UN TEXTAREA SE SI TRATTA DELLA DOMANDA 10 -->
										<th:block th:if="${dom.id_domanda} == '10'">
											<div class="label">
												<p class="idDomanda" th:text="${dom.id_domanda} + ')'"></p>
												<p class="domanda" th:text="${dom.testo}"></p>
											</div>
											<div class="spaceradio">
												<input type="radio" th:name="'valore'+${dom.id_domanda}" id="si"
													value="si" placeholder="si" required />
												<p th:text="${dom.risposta1}"></p>
											</div>
											<div class="spaceradio">
												<input type="radio" th:name="'valore'+${dom.id_domanda}" id="no"
													value="no" placeholder="no" required />
												<p th:text="${dom.risposta2}"></p>
											</div>
											<p> Se si, raccontaci la tua esperienza:</p>
											<textarea th:name="'valore'+${dom.id_domanda}"
												style="font-size: 14px; font-weight:300 ;"></textarea>
										</th:block>
									</th:block>
								</div>
								<p> Per completare la tua registrazione leggi le condizioni:</p>
								<input type="checkbox"> Accetta la <a target="_blank" href="/users/privacy"> privacy
									policy</a>
							</div>

							<div class="field btns">
								<button class="prev-3 prev">Previous</button>
								<button type="submit" formaction="/users/registrazione" formmethod="post"
									onclick="checkRegistrationSubmit()">Registrati</button>
							</div>
						</div>

					</div>
				</div>
			</div>


		</form>

	</div>
	<script>
		const slidePage = document.querySelector(".slidePage")
		const firstNextBtn = document.querySelector(".nextBtn")
		const prevBtnSec = document.querySelector(".prev-1")
		const nextBtnSec = document.querySelector(".next-1")
		const prevBtnThird = document.querySelector(".prev-2")
		const nextBtnThird = document.querySelector(".next-2")
		const prevBtnLast = document.querySelector(".prev-3")
		const submitBtn = document.querySelector(".submit")
		const progressText = document.querySelectorAll(".step p")
		const progressCheck = document.querySelectorAll(".step .check")
		const bullet = document.querySelectorAll(".step .bullet")

		let max = 4;
		let current = 1;

		firstNextBtn.addEventListener('click', (e) => {
			slidePage.style.marginLeft = "-25%";
			bullet[current - 1].classList.add("active")
			progressCheck[current - 1].classList.add("active")
			progressText[current - 1].classList.add("active")
			current++;

			e.preventDefault()

		})
		nextBtnSec.addEventListener('click', () => {
			slidePage.style.marginLeft = "-50%"
			bullet[current - 1].classList.add("active")
			progressCheck[current - 1].classList.add("active")
			progressText[current - 1].classList.add("active")
			current++;

		})
		nextBtnThird.addEventListener("click", () => {
			slidePage.style.marginLeft = "-75%"
			bullet[current - 1].classList.add("active")
			progressCheck[current - 1].classList.add("active")
			progressText[current - 1].classList.add("active")
			current++;

		})
		/*		submitBtn.addEventListener("click", function () {
					bullet[current - 1].classList.add("active")
					progressCheck[current - 1].classList.add("active")
					progressText[current - 1].classList.add("active")
		
					setTimeout(function () {
						alert("Thank You For Sign Up");
						location.reload()
					}, 800)
		
				})
		*/
		prevBtnSec.addEventListener("click", () => {
			slidePage.style.marginLeft = "0%"
			bullet[current - 2].classList.remove("active")
			progressCheck[current - 2].classList.remove("active")
			progressText[current - 2].classList.remove("active")
			current--;

		})
		prevBtnThird.addEventListener("click", () => {
			slidePage.style.marginLeft = "-25%"
			bullet[current - 2].classList.remove("active")
			progressCheck[current - 2].classList.remove("active")
			progressText[current - 2].classList.remove("active")
			current--;
		})
		prevBtnLast.addEventListener("click", () => {
			slidePage.style.marginLeft = "-50%"
			bullet[current - 2].classList.remove("active")
			progressCheck[current - 2].classList.remove("active")
			progressText[current - 2].classList.remove("active")
			current--;
		})
	</script>
	<div th:insert="fragments/footer::footer"></div>
</body>

</html>